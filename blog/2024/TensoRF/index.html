<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> TensoRF | Semyeong Yu </title> <meta name="author" content="Semyeong Yu"> <meta name="description" content="Tensorial Radiance Fields (ECCV 2022)"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://semyeong-yu.github.io/blog/2024/TensoRF/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> <style type="text/css">.fake-img{background:#bbb;border:1px solid rgba(0,0,0,0.1);box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:12px}.fake-img p{font-family:monospace;color:white;text-align:left;margin:12px 0;text-align:center;font-size:16px}</style> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "TensoRF",
            "description": "Tensorial Radiance Fields (ECCV 2022)",
            "published": "September 17, 2024",
            "authors": [
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Semyeong</span> Yu </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>TensoRF</h1> <p>Tensorial Radiance Fields (ECCV 2022)</p> </d-title> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#abstract">Abstract</a> </div> <div> <a href="#tensor-decomposition">Tensor Decomposition</a> </div> <div> <a href="#tensorf-tensor-decomposition">TensoRF Tensor Decomposition</a> </div> <ul> <li> <a href="#cp-candecomp-parafac-decomposition">CP(CANDECOMP/PARAFAC) Decomposition</a> </li> <li> <a href="#vm-vector-matrix-decomposition">VM(vector-matrix) Decomposition</a> </li> </ul> <div> <a href="#related-works">Related Works</a> </div> <div> <a href="#algorithm">Algorithm</a> </div> <div> <a href="#loss">Loss</a> </div> <div> <a href="#coarse-to-fine">Coarse-to-Fine</a> </div> <div> <a href="#implementation">Implementation</a> </div> <div> <a href="#evaluation">Evaluation</a> </div> <div> <a href="#conclusion">Conclusion</a> </div> </nav> </d-contents> <h2 id="tensorf-tensorial-radiance-fields">TensoRF: Tensorial Radiance Fields</h2> <h4 id="anpei-chen-zexiang-xu-andreas-geiger-jingyi-yu-hao-su">Anpei Chen, Zexiang Xu, Andreas Geiger, Jingyi Yu, Hao Su</h4> <blockquote> <p>paper :<br> <a href="https://arxiv.org/abs/2203.09517" rel="external nofollow noopener" target="_blank">https://arxiv.org/abs/2203.09517</a><br> project website :<br> <a href="https://apchenstu.github.io/TensoRF/" rel="external nofollow noopener" target="_blank">https://apchenstu.github.io/TensoRF/</a><br> code :<br> <a href="https://github.com/apchenstu/TensoRF" rel="external nofollow noopener" target="_blank">https://github.com/apchenstu/TensoRF</a><br> referenced blog :<br> <a href="https://xoft.tistory.com/42" rel="external nofollow noopener" target="_blank">https://xoft.tistory.com/42</a></p> </blockquote> <h2 id="abstract">Abstract</h2> <ul> <li> <p>Radiance Field (Scene)에 대해 Tensor Decomposition을 적용해보자!</p> </li> <li> <p>fast training and less computational cost</p> </li> </ul> <h2 id="tensor-decomposition">Tensor Decomposition</h2> <ul> <li> <p>외적 (outer product) :<br> \(\begin{bmatrix} 1 &amp; 2 \\ 2 &amp; 4 \\ 4 &amp; 8 \end{bmatrix} = \begin{bmatrix} 1 \\ 2 \\ 4 \end{bmatrix} \circ \begin{bmatrix} 1 &amp; 2 \end{bmatrix}\)<br> 위의 예시는<br> shape (3, 2) matrix를<br> shape (3,) vector와 shape (2,) vector의 외적으로 표현</p> </li> <li> <p>Tensor Decomposition :</p> <ul> <li>\(n\)-dim.의 data를 \(n\)개의 1D vector들의 외적으로 표현할 수 있다!<br> 이 때, 정보 손실이 발생할 수 있으므로<br> \(R\) 개의 rank에 대해 외적들을 더해 \(n\)-dim. data를 근사</li> <li>장점 :<br> 고차원 data를 1D vector들로 표현할 수 있으므로<br> speed 개선</li> <li>단점 :<br> 수많은 1D vector들로 표현하므로<br> GPU memory 많이 소요</li> <li>종류 :<br> CP(CANDECOMP/PARAFAC) decomposition<br> Tucker Decomposition<br> Block Term Decomposition</li> </ul> </li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/1m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/1m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/1m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/1m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> reference : https://www.kolda.net/publication/TensorReview.pdf </div> <ul> <li>Tensor Decomposition w. Trilinear Interpolation :<br> interpolation으로 1D vector A와 B의 길이를 증가시키고<br> 그 값으로 원본 matrix 표현</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/2m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/2m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/2m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/2m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> https://xoft.tistory.com/42 </div> <h2 id="tensorf-tensor-decomposition">TensoRF Tensor Decomposition</h2> <h3 id="cpcandecompparafac-decomposition">CP(CANDECOMP/PARAFAC) Decomposition</h3> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/3m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/3m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/3m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/3m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> https://xoft.tistory.com/42 </div> <ul> <li>shape (i, j, k)의 \(T\) 에 대해<br> \(T = \sum_{r=1}^R v_{r}^1 \circ v_{r}^2 \circ v_{r}^3\)</li> </ul> <h3 id="vmvector-matrix-decomposition">VM(vector-matrix) Decomposition</h3> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/4m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/4m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/4m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/4m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> https://xoft.tistory.com/42 </div> <ul> <li>shape (i, j, k)의 \(T\) 에 대해<br> \(T = \sum_{r=1}^{R_1} v_{r}^1 \circ M_{r}^{2,3} + \sum_{r=1}^{R_2} v_{r}^2 \circ M_{r}^{1,3} + \sum_{r=1}^{R_3} v_{r}^3 \circ M_{r}^{1,2}\)</li> </ul> <h2 id="related-works">Related Works</h2> <ul> <li>Grid-based 연구들이 training speed 높이는 데 많은 기여를 하고 있으니<br> 다른 논문들도 한 번 읽어보자 <ul> <li>Plenoxel (CVPR 2022)</li> <li>Instant-NGP (SIGGRAPH 2022)</li> <li>DVGO (CVPR 2022)</li> </ul> </li> <li>Grid-based 연구들 <ul> <li>장점 : speed 개선</li> <li>단점 : 해상도가 증가하면 GPU memory 많이 소요<br> 기존 연구들은 space complexity \(O(N^3)\) 인데,<br> TensoRF는 이를 \(O(N^2)\) 으로 줄임</li> </ul> </li> </ul> <h2 id="algorithm">Algorithm</h2> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/5m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/5m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/5m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/5m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <ul> <li>Algorithm : <ul> <li>step 1)<br> scene을 bounded cubic (grid)로 제한</li> <li>step 2)<br> ray를 쏴서 sampled points를 구한 뒤<br> 각 rank의 선과 면으로 projection하고<br> 외적한 값들을 이용해서<br> color와 volume density 계산</li> <li>step 2-1)<br> volume density는 단순히 외적한 값들을 더해서 구함<br> (VM Decomposition)</li> <li>step 2-2)<br> color는 외적한 값들을 concat한 뒤<br> function B와 function S에 통과시켜 얻음 <ul> <li>function B :<br> 1개의 FC-layer<br> appearance commonalities를 추상화는 Global Apperance Dictionary 역할</li> <li>function S :<br> MLP 또는 SH(Spherical Harmonics) 함수</li> </ul> </li> </ul> </li> </ul> <h2 id="loss">Loss</h2> <ul> <li>sparse input images일 경우<br> 적게 관측된 view에서는 outlier 혹은 noise가 발생할 수 있어<br> overfitting 혹은 local minima 문제 발생<br> \(\rightarrow\)<br> regularization term 추가한 loss 사용<br> e.g. TV(total variation) loss :<br> pixel 값 간의 급격한 변화 (noise or outlier)를 억제하기 위해<br> \(I_{i+1, j} - I_{i, j}\) 항과 \(I_{i, j+1} - I_{i, j}\) 항을 loss에 추가</li> </ul> <h2 id="coarse-to-fine">Coarse-to-Fine</h2> <ul> <li> <p>NeRF의 coarse-to-fine 기법 :<br> \(w_i = T_i \alpha_{i}\) 의 PDF 분포에 따라<br> 일부 구간을 더 많이 sampling</p> </li> <li>Mip-NeRF 360의 coarse-to-fine 기법 : <ul> <li>small coarse proposal-MLP는 many samples로 여러 번 evaluate하여 weight \(\hat w\) 를 구하고<br> large fine NeRF-MLP는 less samples로 딱 한 번 evaluate하여 weight \(w\) 와 color \(c\) 를 구함</li> <li>proposal loss를 이용하여 NeRF-MLP의 지식을 proposal-MLP가 따라잡도록 함</li> </ul> </li> <li>TensoRF의 coarse-to-fine 기법 :<br> 단순히 grid 크기를 upsampling<br> Grid size(resolution)이 커질수록 선 또는 면이 더 촘촘해져서 3D scene의 high-freq. feature를 더 잘 잡아낼 수 있음</li> </ul> <h2 id="implementation">Implementation</h2> <ul> <li>Decomposition Rank : 총 48개 <ul> <li>RGB : 16, 4, 4</li> <li>volume density : 16, 4, 4</li> </ul> </li> <li> <p>Grid size : coarse-to-fine<br> \(128^3\) 에서 \(300^3\) 으로 점점 증가시키면서 학습<br> (2000, 3000, 4000, 5500, 7000 step에서 점차 증가시킴)</p> </li> <li> <p>Batch size : 4096 pixels</p> </li> <li>Adam optimizer, V100 GPU(16GB)</li> </ul> <h2 id="evaluation">Evaluation</h2> <ul> <li>기존 Grid-based 연구들과<br> training speed는 유사하지만<br> PSNR이 높고<br> 모델 사이즈 및 GPU memory 사용량이 적음</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/6m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/6m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/6m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/6m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/7m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/7m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/7m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/7m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <ul> <li>Ours-VM-192 : 4DGS, VM Decomposition, 192개의 rank <ul> <li>speed, PSNR : Ours-VM-192를 15000 iter.만큼만 진행했을 때 8분만에 기존 연구들보다 PSNR 높음</li> <li>memory : 기존 연구들보다 확연히 memory size 적음</li> </ul> </li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/8m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/8m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/8m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/8m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-09-17-TensoRF/9m.PNG-480.webp 480w,/assets/img/2024-09-17-TensoRF/9m.PNG-800.webp 800w,/assets/img/2024-09-17-TensoRF/9m.PNG-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/2024-09-17-TensoRF/9m.PNG" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <ul> <li>Param. 실험 : <ul> <li>Grid size가 증가할수록 성능 좋아지지만 speed 느려지고 model size 커짐</li> <li>CP Decomposition보다 VM Decomposition이 성능 더 좋음</li> <li>rank 개수가 증가할수록 성능 좋아짐</li> </ul> </li> <li>iter. : <ul> <li>iter.이 증가할수록 PSNR이 증가<br> 5k iter.만 해도 PSNR이 30에 가까워지고, 점점 변동폭이 작아짐</li> </ul> </li> </ul> <h2 id="limitation">Limitation</h2> <ul> <li>scene을 bounded cubic 안에 제한해야<br> projection을 통해 VM Decomposition이 가능하므로<br> unbounded scene은 다루지 못함</li> </ul> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> <div id="disqus_thread" style="max-width: 800px; margin: 0 auto;"> <script type="text/javascript">var disqus_shortname="semyeong-yu",disqus_identifier="/blog/2024/TensoRF",disqus_title="TensoRF";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a> </noscript> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Semyeong Yu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-5YMLX9VHFX"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5YMLX9VHFX");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>